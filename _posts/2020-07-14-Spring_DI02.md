---



title:  "Spring DI(Dependency Injection)02"



layout: post



---


## [오늘 할 내용]
1. com.test01 : Spring beans 설정 연습
2. com.test01.Anno : Spring Annotation 설정
3. com.test02

***

## com.test01

- Nic_name.java

    ~~~ java
    package com.test01;

    public class Nic_name {
        @Override
        public String toString() {
            return "Nic_name [toString() = 별명은 멍멍이";
        }
    }
    ~~~

- Nic_namePrn.java

    ~~~ java
    package com.test01;

    public class Nic_namePrn {
        private Nic_name nic_name;

        public void setNic_name(Nic_name nic_name) {
            this.nic_name = nic_name;
        }

        @Override
        public String toString() {
            return "Nic_namePrn [nic_name=" + nic_name + "]";
        }
    }
    ~~~

- beans.xml

    ~~~ xml
    <?xml version="1.0" encoding="UTF-8"?>
    <beans xmlns="http://www.springframework.org/schema/beans"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

        <bean id="mynamePrn" class="com.test01.Nic_namePrn">
            <property name="nic_name" ref="myname" />
        </bean>

        <bean id="myname" class="com.test01.Nic_name" />
    </beans>
    ~~~

- MTest.java

    ~~~ java
    package com.test01;

    import org.springframework.context.ApplicationContext;
    import org.springframework.context.support.ClassPathXmlApplicationContext;

    public class MTest {
        public static void main(String[] args) {
            ApplicationContext context 
            = new ClassPathXmlApplicationContext(new String[] { "com/test01/beans.xml" });

            Nic_namePrn prn = (Nic_namePrn) context.getBean("mynamePrn");

            System.out.println(prn);
        }
    }
    ~~~

	![image](https://user-images.githubusercontent.com/52989294/87417202-cbd61900-c60a-11ea-85b8-e0432c351521.png)

***

## com.test01.Anno

- Nic_name.java

    ~~~ java
    package com.test01.Anno;

    import org.springframework.stereotype.Component;

    @Component
    public class Nic_name {
        @Override
        public String toString() {
            return "Nic_name [toString() = 별명은 멍멍이";
        }
    }
    ~~~

- Nic_namePrn.java

    ~~~ java
    package com.test01.Anno;

    import org.springframework.stereotype.Component;

    @Component
    public class Nic_name {
        @Override
        public String toString() {
            return "Nic_name [toString() = 별명은 멍멍이";
        }
    }
    ~~~

- beans.xml

    ~~~ xml
    <?xml version="1.0" encoding="UTF-8"?>
    <beans xmlns="http://www.springframework.org/schema/beans"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:context="http://www.springframework.org/schema/context"
        xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd">

        <context:component-scan
            base-package="com.test01.Anno" />
    </beans>
    ~~~

- MTest.java

    ~~~ java
    <?xml version="1.0" encoding="UTF-8"?>
    <beans xmlns="http://www.springframework.org/schema/beans"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:context="http://www.springframework.org/schema/context"
        xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd">

        <context:component-scan
            base-package="com.test01.Anno" />
    </beans>
    ~~~

	![image](https://user-images.githubusercontent.com/52989294/87417129-b2cd6800-c60a-11ea-99c4-2e1cb64db1ff.png)

***

## com.test02
- Student.java

    ~~~ java
    package com.test02;

    import org.springframework.stereotype.Component;

    @Component
    public class Student {
        private String name;
        private String address;
        private int age;

        public void setName(String name) {
            this.name = name;
        }

        public void setAddress(String address) {
            this.address = address;
        }

        public void setAge(int age) {
            this.age = age;
        }

        @Override
        public String toString() {
            return "Student [name=" + name + ", address=" + address + ", age=" + age + "]";
        }
    }
    ~~~

- School.java

    ~~~ java
    package com.test02;

    import org.springframework.beans.factory.annotation.Autowired;
    import org.springframework.stereotype.Component;

    @Component("my_school")
    public class School {
        @Autowired
        private Student person;
        private int grade;

        public void setGrade(int grade) {
            this.grade = grade;
        }


        @Override
        public String toString() {
            return "School [person=" + person + ", grade=" + grade + "]";
        }
    }
    ~~~

- beans.xml

    ~~~ xml
    <?xml version="1.0" encoding="UTF-8"?>
    <beans xmlns="http://www.springframework.org/schema/beans"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:context="http://www.springframework.org/schema/context"
        xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd">

        <context:annotation-config/>

        <bean class="com.test02.Student" id="mystudent">
            <property value="길동" name="name" />
            <property value="address 서울" name="address" />
            <property value="29" name="age" />
        </bean>

        <bean class="com.test02.School" id="my_school">
            <property value="1" name="grade" />
        </bean>
    </beans>
    ~~~

- MTest.java

    ~~~ java
    <?xml version="1.0" encoding="UTF-8"?>
    <beans xmlns="http://www.springframework.org/schema/beans"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:context="http://www.springframework.org/schema/context"
        xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd">

        <context:annotation-config/>

        <bean class="com.test02.Student" id="mystudent">
            <property value="길동" name="name" />
            <property value="address 서울" name="address" />
            <property value="29" name="age" />
        </bean>

        <bean class="com.test02.School" id="my_school">
            <property value="1" name="grade" />
        </bean>
    </beans>
    ~~~

	![image](https://user-images.githubusercontent.com/52989294/87417400-135ca500-c60b-11ea-8332-c2cfd46df6f7.png)

***













